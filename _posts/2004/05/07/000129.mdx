---
title: "PHP 之 MVC"
tags: ["php", "mvc", "web development", "java", "object-oriented programming", "smarty", "php5", "software architecture", "design patterns", "business logic"]
description: "作者分享了对 PHP 中实现 MVC 架构的思考与实践体验。文章首先对比分析了业内关于 PHP 是否适合使用 MVC 的不同观点和争论，随后基于亲身开发经验，作者认为 MVC 是面向对象思想的集中体现，即使小型 PHP 网站也应采用此架构。文章特别强调了业务逻辑应属于 Model 层的观点，并认为 Smarty 模板引擎代表了前卫的逻辑与视图分离思想。文末提到了 PHP5 引入更多面向对象特性，会大大延长 PHP 的生命力，并可能使开发者在选择 JSP 还是 PHP 时犹豫不决。"
publishDate: "2004-05-07 20:57:17"
---

前段时间在学习 Java，顺水推舟得学了 MVC 构架。在网上查阅相关资料的时候，发现对于[PHP](http://www.php.net)是否以及怎样套用 MVC 构架，已经有相当多的探讨。以下给出几个链接：

- [MVC 模式、类封装还是黑客代码](http://www-900.ibm.com/developerWorks/cn/linux/sdk/php/php_design/index.shtml)
- [MVC 模式的 PHP 实现](http://www.phpe.net/articles/382.shtml)
- [PHP:MVC 迷思](http://www.phpe.net/articles/390.shtml)

这几篇文章（以及相关的评论）几乎包含了所有 PHPer 对于 MVC 构架的认识和疑惑。在我实践[使用 MVC 构造了一个站点](http://fastwell.xdanger.com)之后，可以说对于 PHP 中的 MVC 有了自己的一些认识：

MVC 是面向对象思想的集中体现。特别是模块 (Model) 的封装、抽象，运用得好就能将 OO 的封装、多态性表现得淋漓尽致。至少 Web 应用上，MVC 肯定是先进的，甚至我个人认为小型的 PHP 站点也应采用 MVC 的构架。

中大型站点一定需要 MVC 架构。PHP 在企业级应用上如此至少，除去商业界和开原界在意识形态上有巨大分歧外，PHP 本身的极弱面面向对象的缺陷也是最大的原因。道理很简单，不是高度面向对象的项目，越是大型，维护成本越是成几何级数上升。

那到底该怎么运用 MVC 呢？应该说对于不同类型，不同规模，不同开发周期，不同维护费用预算，都可以有不同的具体实现。但是有一点是肯定的：并不像《[PHP:MVC 迷思](http://www.phpe.net/articles/390.shtml)》所说的"把业务逻辑并入 M 中，这其实是 MVC 的思想背道而驰的。"——业务逻辑绝对应该是 Model 部分的核心，而这篇文章的作者所指出的类似于[JSP](http://java.sun.com/products/jsp/)中[Java Beans](http://java.sun.com/products/javabeans/)的作用，只是 Model 部分最底层的抽象，如果就此理解，那 MVC 的确不应该应用于 PHP 了（相信作者肯定没使用过[structs](http://jakarta.apache.org/struts/)）。实际上，判断 MVC 是否强壮，就是看业务逻辑部分的抽象和封装是否到位。[Smarty 模版引擎](http://smarty.php.net)的最大特点就是将业务逻辑从视图中分离，因此说他的思想是最前卫的。以我的看法，Smarty 就是在 PHP 中最大程度地实现 JSP 的自定义[标签库](http://java.sun.com/products/jsp/taglibraries/)(Custom Taglib)，当然，两者还是有很大不同的，这个也只是我个人的理解。如果还不能理解业务逻辑为什么是属于 Model 部分，那还是先看看一些面向对象的教科书吧。

BTW:4 月 25 日 PHP5 出了[第二个 Candidate 版本](http://cn.php.net/downloads.php#v5)，虽然对于 PHP 的前景，尤其是 php5 大量借鉴 Java 的特点还有[很大的争论](http://www-900.ibm.com/developerWorks/cn/linux/sdk/php/zend/index.shtml)，但是我认为 PHP5 无疑会大大延长其寿命，至少让我在做项目的时候会犹豫到底是 JSP 还是 PHP……PHP5 也体现了绝大多数程序员对于 PHP 的最大需求——面向对象。
