---
layout: post
title: "如何实现同时访问不同资源使用不同的路由"
tags: ["networking", "routing", "adsl", "campus network", "dual connection", "route command", "windows 2000", "tcp/ip", "network configuration", "tech tutorial"]
description: "本文进一步解决了同时使用校园网和 ADSL 的高级设置问题，介绍了如何通过 Windows 的 route 命令创建特定的路由规则，让不同类型的网络流量通过不同的网关。作者详细说明了在 TCP/IP 高级设置中绑定多个 IP 地址的步骤，以及如何使用 route add 和 route delete 命令在命令行中配置路由表，特别是将校内 10.x.x.x 网段的流量定向到校园网网关，从而实现同时打游戏和下载校内资源的目标。"
publishDate: "2004-03-30 08:51:58"
---

我所在的学校有校园网，我们由于觉得校园网访问公众网资源慢就申请了 adsl，同时利用校园的硬件资源实现 adsl 多人共享上网，同时只要更改一下网络配置，就可以上校园网。详见 3 月 22 日 G9 版的《校园网和 adsl 宽带两不误》。
能不能同时使用这两种网络呢？例如一打网络游戏（adsl）一边下载（校园网）。后来进过一段时间的琢磨，方法如下（win2000 为例）：
首先打开本地连接-->属性-->双击 internet 协议 (tcp/ip)-->高级。在 ip 地址这一栏里点击添加，我原来用的网络配置 ip:192.168.143.173 子网掩码:255.255.255.240 默认网关:192.168.143.174 这个是我使用 adsl 的配置，添上我使用校园网时的 ip:192.168.1.1 子网掩码:255.255.255.0 在默认网关里我没有添加我使用校园网时要用的网关地址。这样就在我的网卡上绑定了两个 ip 地址。

[http://www.shangda.net/UploadFile/2004329209410158.jpg](http://www.shangda.net/UploadFile/2004329209410158.jpg)

前期工作做好了，现在开始具体的来实现了。在运行里面输入 cmd，在命令行中键入 route。route 是一个添加删除路由的命令，我们将用到 route 命令的几个参数，现在简单介绍一下：route print 显示当前路由表；route add 添加一条路由，route delete 删除一条路由。
举例如下：我所在学校的内部 ip 地址用的都是形如:10.x.x.x 的地址，我的目的是访问这样形式的 ip 的计算机是我通过校园网的网关:10.126.9.254 路由出去的。添加如下：route add 10.0.0.0 mask 255.0.0.0 10.126.9.254 metric 1 稍微解释一下：route add 是添加路由的命令，10.0.0.0 代表学校的网络地址（代表的 ip 地址从 10.0.0.0 到 10.255.255.255）；mask 255.0.0.0 指的是子网掩码，子网掩码和网络地址结合就可以算出其中 ip 地址块容量（具体的子网划分和子网掩码的意义见相关文章）；10.126.9.254 是我使用校园网时的网关 ip 地址；metric 1 是指跃点数一般使用 1。这条命令的意义是：如果访问 10.x.x.x 这样类型的 ip 地址的计算机，通过 10.126.9.254 路由出去。

[http://www.shangda.net/UploadFile/20043292094813897.jpg](http://www.shangda.net/UploadFile/20043292094813897.jpg)

route delete 是删除相应路由，如我要删掉刚才添加的路由:route delete 10.0.0.0
好了，通过这样你就可以指定相应网关路由出去，去访问相应的机器了。
